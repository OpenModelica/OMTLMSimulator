<?xml version='1.0' encoding='UTF-8'?>
<!-- The root node is the meta-model -->
<Model Name="CranePiston">
  <!-- List of connected sub-models -->
  <SubModels>
    <SubModel ExactStep="0" Position="0,0,0" ModelFile="crane.fmu" Name="crane" Angle321="0,0,0" StartCommand="StartTLMFmiWrapper">
      <InterfacePoint Position="0,0.70710678,0.70710678" Name="tlm1D" Angle321="0,0,0"/>
      <InterfacePoint Position="0,1.41421356,1.41421356" Name="tlm3D" Angle321="0,0,0"/>
    </SubModel>
    <SubModel ExactStep="0" Position="0,0.70710678,0.70710678" ModelFile="piston.hmf" Name="piston" Angle321="0,0,0" StartCommand="StartTLMHopsan">
      <Annotation Extent="{-10,-10,10,10}" Rotation="0" Origin="{-34,0}" Visible="true"/>
      <InterfacePoint Position="0,0,0" Name="TLM1D" Angle321="0,0,0"/>
      <InterfacePoint Position="0,0,0" Name="Input1DIN" Angle321="0,0,0"/>
      <InterfacePoint Position="0,0,0" Name="Output1DOUT" Angle321="0,0,0"/>
    </SubModel>
    <SubModel ExactStep="0" Position="0,1.41421356,1.41421356" ModelFile="load.mo" Name="load" Angle321="0,0,0" StartCommand="StartTLMOpenModelica">
      <Annotation Extent="{-10,-10,10,10}" Rotation="0" Origin="{2,-28}" Visible="true"/>
      <InterfacePoint Position="0,-3.0581e-013,0" Name="tlm" Angle321="0,0,0"/>
    </SubModel>
    <SubModel ExactStep="0" Position="0,0,0" ModelFile="controller.hmf" Name="controller" Angle321="0,0,0" StartCommand="StartTLMHopsan">
      <Annotation Extent="{-10,-10,10,10}" Rotation="0" Origin="{-48,32}" Visible="true"/>
      <InterfacePoint Position="0,0,0" Name="Input1DIN" Angle321="0,0,0"/>
      <InterfacePoint Position="0,0,0" Name="Output1DOUT" Angle321="0,0,0"/>
    </SubModel>
  </SubModels>
  <!-- List of TLM connections -->
  <Connections>
    <Connection Delay="1e-4" alpha="0.5" From="crane.tlm1D" Zfr="100" To="piston.TLM1D" Zf="10000">
      <Annotation Points="{{12,8},{20,8},{20,16},{-22,16},{-22,8},{-22,8}}"/>
    </Connection>
    <Connection Delay="1e-4" alpha="0.9" From="load.tlm" Zfr="100" To="crane.tlm3D" Zf="10000">
      <Annotation Points="{{14,-20},{24,-20},{24,4},{12,4},{12,4}}"/>
    </Connection>
    <Connection Delay="1e-4" alpha="0.2" From="piston.Output1DOUT" To="controller.Input1DIN" Zfr="100" Zf="10000">
      <Annotation Points="{{-22,0},{-14,0},{-14,40},{-36,40},{-36,40}}"/>
    </Connection>
    <Connection Delay="1e-4" alpha="0.2" From="controller.Output1DOUT" To="piston.Input1DIN" Zfr="100" Zf="10000">
      <Annotation Points="{{-36,36},{-18,36},{-18,4},{-22,4},{-22,4}}"/>
    </Connection>
  </Connections>
  <!-- Parameters for the simulation -->
  <SimulationParams StartTime="0" StopTime="1.5"/>
</Model>
