<?xml version='1.0' encoding='UTF-8'?>
<!-- The root node is the meta-model -->
<Model Name="CranePiston">
  <!-- List of connected sub-models -->
  <SubModels>
    <SubModel Name="arm1" ExactStep="0" Position="0,0,0" StartCommand="StartTLMOpenModelica" ModelFile="arm1.mo" Angle321="0,0,0" GeometryFile="arm1.stl">
      <Annotation Visible="true" Extent="{-10,-10,10,10}" Rotation="0" Origin="{-70,4}"/>
      <InterfacePoint Name="tlm1" Position="0,3,-3.10235e-013" Angle321="-1.03473e-013,0,0"/>
      <InterfacePoint Name="tlm2" Position="0,2,-2.06823e-013" Angle321="-0.785398,0,0"/>
      <InterfacePoint Name="tlm1D" Position="0,1.11803,0" Angle321="1.5708,-1.5708,-0.0116366"/>
    </SubModel>
    <SubModel Name="arm2" ExactStep="0" Position="0,3,-3.10235e-13" StartCommand="StartTLMOpenModelica" ModelFile="arm2.mo" Angle321="-1.03473e-13,0,0" GeometryFile="arm2.stl">
      <Annotation Visible="true" Extent="{-10,-10,10,10}" Rotation="0" Origin="{8,4}"/>
      <InterfacePoint Name="tlm1" Position="0,-3.0581e-013,0" Angle321="0,0,0"/>
      <InterfacePoint Name="tlm3" Position="0,-3.0581e-013,1" Angle321="-0.785398,0,0"/>
    </SubModel>
    <SubModel Name="piston" ExactStep="0" Position="0,2,2.35558e-06" StartCommand="StartTLMOpenModelica" ModelFile="piston.mo" Angle321="-0.785398,0,0">
      <Annotation Visible="true" Extent="{-10,-10,10,10}" Rotation="0" Origin="{-28,4}"/>
      <InterfacePoint Name="tlm2" Position="0,0,1.41421" Angle321="0,0,0"/>
      <InterfacePoint Name="tlm1D" Position="1.41421,0,0" Angle321="1.57061,-1.5708,-1.07453"/>
      <InterfacePoint Name="tlm1" Position="0,0,0" Angle321="0,0,0"/>
    </SubModel>
    <SubModel Name="controller" ExactStep="0" Position="0,0,0" StartCommand="StartTLMHopsan" ModelFile="controller.hmf" Angle321="0,0,0">
      <Annotation Visible="true" Extent="{-10,-10,10,10}" Rotation="0" Origin="{-74,38}"/>
      <InterfacePoint Name="Output2_1DOUT" Position="0.00707111,0,-1.28848e-231" Angle321="0,0,0"/>
      <InterfacePoint Name="Output1_1DOUT" Position="0.00368397,0,-4.31092e-312" Angle321="3.84025e-050,0,3.9045e-227"/>
      <InterfacePoint Name="Input2_1DIN" Position="0,0,-4.31092e-312" Angle321="1.54366,0,0"/>
      <InterfacePoint Name="Input1_1DIN" Position="0,0,-4.31092e-312" Angle321="0,0,0"/>
    </SubModel>
    <SubModel Name="hydraulics" ExactStep="0" Position="2.08735,1.12055,0.879463" StartCommand="StartTLMHopsan" ModelFile="hydraulics.hmf" Angle321="-1.12649,0.671133,2.22409">
      <Annotation Visible="true" Extent="{-10,-10,10,10}" Rotation="0" Origin="{-16,42}"/>
      <InterfacePoint Name="TLM2_1D" Position="1.41421,0,0" Angle321="0,-5e-005,-1.5708"/>
      <InterfacePoint Name="TLM1_1D" Position="1.11803,0,0" Angle321="1.5708,-1.5708,-0.0116366"/>
      <InterfacePoint Name="Output2_1DOUT" Position="1.41421,8.6249e-320,-4.31092e-312" Angle321="1.74852e-307,0,0"/>
      <InterfacePoint Name="Output1_1DOUT" Position="0.736802,4.5603e-308,-3.7865e-270" Angle321="0,0,0"/>
      <InterfacePoint Name="Input2_1DIN" Position="0,0,-6.98486e-251" Angle321="0,-4.5603e-308,0.800175"/>
      <InterfacePoint Name="Input1_1DIN" Position="0,0,-1.28848e-231" Angle321="1.64559e-008,0,1.57076"/>
    </SubModel>
  </SubModels>
  <!-- List of TLM connections -->
  <Connections>
    <Connection From="hydraulics.Output1_1DOUT" Zfr="0" Delay="1e-4" To="controller.Input1_1DIN" alpha="0.2" Zf="0">
      <Annotation Points="{{-5,38},{16,38},{16,58},{-40,58},{-40,34},{-63,34}}"/>
    </Connection>
    <Connection From="hydraulics.Output2_1DOUT" Zfr="0" Delay="1e-4" To="controller.Input2_1DIN" alpha="0.2" Zf="0">
      <Annotation Points="{{-5,42},{12,42},{12,54},{-36,54},{-36,38},{-63,38}}"/>
    </Connection>
    <Connection From="hydraulics.Input2_1DIN" Zfr="0" Delay="1e-4" To="controller.Output2_1DOUT" alpha="0.2" Zf="0">
      <Annotation Points="{{-5,34},{6,34},{6,62},{-42,62},{-42,46},{-63,46}}"/>
    </Connection>
    <Connection From="hydraulics.Input1_1DIN" Zfr="0" Delay="1e-4" To="controller.Output1_1DOUT" alpha="0.2" Zf="0">
      <Annotation Points="{{-5,30},{10,30},{10,66},{-34,66},{-34,42},{-63,42}}"/>
    </Connection>
    <Connection From="arm1.tlm1" Zfr="0" Delay="1e-4" To="arm2.tlm1" alpha="0.9" Zf="100000">
      <Annotation Points="{{-59,8},{-46.5,8},{-46.5,-26},{35.5,-26},{35.5,0},{19,0}}"/>
    </Connection>
    <Connection From="arm1.tlm2" Zfr="0" Delay="1e-4" To="piston.tlm1" alpha="0.9" Zf="100000">
      <Annotation Points="{{-59,12},{-46,12},{-46,20},{-10,20},{-10,4},{-16,4}}"/>
    </Connection>
    <Connection From="piston.tlm2" Zfr="0" Delay="1e-4" To="arm2.tlm3" alpha="0.9" Zf="100000">
      <Annotation Points="{{-16,12},{-6,12},{-6,20},{24,20},{24,8},{20,8},{20,8}}"/>
    </Connection>
    <Connection From="hydraulics.TLM2_1D" Zfr="0" Delay="1e-4" To="piston.tlm1D" alpha="0.9" Zf="100000">
      <Annotation Points="{{-4,50},{4,50},{4,24},{-14,24},{-14,8},{-16,8},{-16,8}}"/>
    </Connection>
    <Connection From="arm1.tlm1D" Zfr="0" Delay="1e-4" To="hydraulics.TLM1_1D" alpha="0.9" Zf="100000">
      <Annotation Points="{{-58,4},{-50,4},{-50,26},{0,26},{0,46},{-4,46},{-4,46}}"/>
    </Connection>
  </Connections>
  <!-- Parameters for the simulation -->
  <SimulationParams StartTime="0" StopTime="2"/>
</Model>
