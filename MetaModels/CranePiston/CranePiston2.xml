<?xml version='1.0' encoding='UTF-8'?>
<!-- The root node is the meta-model -->
<Model Name="CranePiston">
  <!-- List of connected sub-models -->
  <SubModels>
    <SubModel ModelFile="arm1.mo" ExactStep="0" StartCommand="StartTLMOpenModelica" Name="arm1" GeometryFile="arm1.stl" Angle321="0,0,0" Position="0,0,0">
      <Annotation Extent="{-10,-10,10,10}" Visible="true" Rotation="0" Origin="{-68,-54}"/>
      <InterfacePoint Name="tlm1" Angle321="0,0,0" Position="0,3,1.83691e-016"/>
      <InterfacePoint Name="tlm2" Angle321="-1.10715,0,0" Position="0,1,6.12303e-017"/>
    </SubModel>
    <SubModel ModelFile="arm2.mo" ExactStep="0" StartCommand="StartTLMOpenModelica" Name="arm2" GeometryFile="arm2.stl" Angle321="0,0,0" Position="0,3,1.83691e-16">
      <Annotation Extent="{-10,-10,10,10}" Visible="true" Rotation="0" Origin="{-66,0}"/>
      <InterfacePoint Name="tlm3" Angle321="-1.10715,0,0" Position="0,-3.0581e-013,1"/>
      <InterfacePoint Name="tlm1" Angle321="0,0,0" Position="0,-3.0581e-013,0"/>
      <InterfacePoint Name="tlm4" Angle321="0.463648,0,0" Position="0,-3.0581e-013,1"/>
      <InterfacePoint Name="tlm2" Angle321="0,0,0" Position="0,-3.0581e-013,3"/>
    </SubModel>
    <SubModel ModelFile="arm3.mo" ExactStep="0" StartCommand="StartTLMOpenModelica" Name="arm3" GeometryFile="arm3.stl" Angle321="0,0,0" Position="-1.18939e-15,3,3">
      <Annotation Extent="{-10,-10,10,10}" Visible="true" Rotation="0" Origin="{-62,46}"/>
      <InterfacePoint Name="tlm1" Angle321="0,0,0" Position="0,-3.0581e-013,0"/>
      <InterfacePoint Name="tlm2" Angle321="0.463648,0,0" Position="0,-1,0"/>
      <InterfacePoint Name="tlm3" Angle321="0,0,0" Position="0,-3,0"/>
    </SubModel>
    <SubModel ModelFile="piston.mo" ExactStep="0" StartCommand="StartTLMOpenModelica" Name="piston" Angle321="-1.10715,0,0" Position="0,3,0.999998">
      <Annotation Extent="{-10,-10,10,10}" Visible="true" Rotation="0" Origin="{-24,-50}"/>
      <InterfacePoint Name="tlm1" Angle321="0,0,0" Position="0,0,-2.23607"/>
      <InterfacePoint Name="tlm2" Angle321="0,0,0" Position="0,0,0"/>
      <InterfacePoint Name="tlm1D" Angle321="1.5708,-1.5708,-0.000469219" Position="2.23607,0,0"/>
    </SubModel>
    <SubModel ModelFile="piston.mo" ExactStep="0" StartCommand="StartTLMOpenModelica" Name="piston2" Angle321="0.463648,0,0" Position="0,2,3">
      <Annotation Extent="{-10,-10,10,10}" Visible="true" Rotation="0" Origin="{-20,42}"/>
      <InterfacePoint Name="tlm1" Angle321="0,0,0" Position="0,0,-2.23607"/>
      <InterfacePoint Name="tlm2" Angle321="0,0,0" Position="0,0,0"/>
      <InterfacePoint Name="tlm1D" Angle321="1.5708,-1.5708,-0.0143998" Position="2.23607,0,0"/>
    </SubModel>
    <SubModel ModelFile="controller.fmu" ExactStep="0" StartCommand="StartTLMFmiWrapper" Name="controller_fmu" Angle321="nan,nan,nan" Position="nan,nan,nan">
      <Annotation Extent="{-10,-10,10,10}" Visible="true" Rotation="0" Origin="{-70,-92}"/>
      <InterfacePoint Name="tlm1_1DIN" Angle321="1.57079,0,0" Position="0,4.25275e-310,-5.3347e-312"/>
      <InterfacePoint Name="tlm2_1DIN" Angle321="1.5708,0,1.57077" Position="0,0,-1.28854e-231"/>
      <InterfacePoint Name="tlm1_1DOUT" Angle321="0,-4.5603e-308,0" Position="0.0223607,0,-1.28854e-231"/>
      <InterfacePoint Name="tlm2_1DOUT" Angle321="0,0,1.5708" Position="0.033541,0,-5.3347e-312"/>
    </SubModel>
    <SubModel ModelFile="hydraulics.hmf" ExactStep="0" StartCommand="StartTLMHopsan" Name="hydraulics" Angle321="nan,nan,nan" Position="nan,nan,nan">
      <Annotation Extent="{-10,-10,10,10}" Visible="true" Rotation="0" Origin="{-12,-74}"/>
      <InterfacePoint Name="TLM1_1D" Angle321="1.5708,-1.5708,-1.57079" Position="2.23607,0,0"/>
      <InterfacePoint Name="Input1_1DIN" Angle321="1.5708,-4.55988e-308,1.57077" Position="0,4.5603e-308,-1.28854e-231"/>
      <InterfacePoint Name="Output1_1DOUT" Angle321="0,0,0" Position="2.23607,0,-5.3347e-312"/>
      <InterfacePoint Name="Input2_1DIN" Angle321="nan,nan,nan" Position="0,0,-3.78667e-270"/>
      <InterfacePoint Name="TLM2_1D" Angle321="2.83425e-127,-1.5708,-4.7123e-240" Position="2.23607,0,0"/>
      <InterfacePoint Name="Output2_1DOUT" Angle321="0,-4.5603e-308,1.5708" Position="2.23607,4.55988e-308,-5.3347e-312"/>
    </SubModel>
    <SubModel ModelFile="rope.fmu" ExactStep="0" StartCommand="StartTLMFmiWrapper" Name="rope_fmu" GeometryFile="rope.stl" Angle321="0,0,0" Position="0,3.0581e-13,3">
      <Annotation Extent="{-10,-10,10,10}" Visible="true" Rotation="0" Origin="{-62,70}"/>
      <InterfacePoint Name="tlm2" Angle321="0,0,0" Position="0,-1,0"/>
      <InterfacePoint Name="tlm1" Angle321="0,0,0" Position="0,-3.0581e-013,0"/>
    </SubModel>
    <SubModel ModelFile="load.fmu" ExactStep="0" StartCommand="StartTLMFmiWrapper" Name="load_fmu" GeometryFile="load.stl" Angle321="0,0,0" Position="0,-1,3">
      <Annotation Extent="{-10,-10,10,10}" Visible="true" Rotation="0" Origin="{-86,86}"/>
      <InterfacePoint Name="tlm" Angle321="0,0,0" Position="0,-3.0581e-013,0"/>
    </SubModel>
    <SubModel ModelFile="dgbb.in" StartCommand="StartTLMBeast" Name="dgbb1" GeometryFile="dgbb.stl" Angle321="3.14159,1.57079,-3.14159" Position="-4.36887e-21,3,-1.0057e-15">
      <Annotation Extent="{-10,-10,10,10}" Visible="true" Rotation="0" Origin="{-68,-26}"/>
      <InterfacePoint Name="bIR`cs1" Angle321="-2.81715e-039,-1.5708,2.81715e-039" Position="-1.18939e-015,0,0"/>
      <InterfacePoint Name="bER`cs1" Angle321="-2.81708e-039,-1.5708,2.81708e-039" Position="-1.18939e-015,3.85186e-034,0"/>
    </SubModel>
    <SubModel ModelFile="dgbb.in" StartCommand="StartTLMBeast" Name="dgbb2" GeometryFile="dgbb.stl" Angle321="3.14159,1.57079,-3.14159" Position="-1.18939e-15,3,3">
      <Annotation Extent="{-10,-10,10,10}" Visible="true" Rotation="0" Origin="{-64,22}"/>
      <InterfacePoint Name="bIR`cs1" Angle321="-2.81715e-039,-1.5708,2.81715e-039" Position="-1.18939e-015,0,0"/>
      <InterfacePoint Name="bER`cs1" Angle321="-2.81708e-039,-1.5708,2.81708e-039" Position="-1.18939e-015,3.85186e-034,0"/>
    </SubModel>
  </SubModels>
  <!-- List of TLM connections -->
  <Connections>
    <Connection Delay="1e-4" From="piston.tlm1" Zf="100000" alpha="0.9" Zfr="0" To="arm1.tlm2">
      <Annotation Points="{{-13,-42},{-9,-42},{-9,-38},{-49,-38},{-49,-52},{-57,-52},{-57,-53},{-57,-53},{-57,-54}}"/>
    </Connection>
    <Connection Delay="1e-4" From="piston.tlm2" Zf="100000" alpha="0.9" Zfr="0" To="arm2.tlm3">
      <Annotation Points="{{-13,-46},{7,-46},{7,8},{-55,8}}"/>
    </Connection>
    <Connection Delay="1e-4" From="hydraulics.TLM1_1D" Zf="100000" alpha="0.9" Zfr="0" To="piston.tlm1D">
      <Annotation Points="{{-1,-66},{9,-66},{9,-49},{-13,-49},{-13,-50}}"/>
    </Connection>
    <Connection Delay="1e-4" From="piston2.tlm1" Zf="100000" alpha="0.9" Zfr="0" To="arm2.tlm4">
      <Annotation Points="{{-9,50},{-7,50},{-7,58},{-35,58},{-35,0},{-55,0}}"/>
    </Connection>
    <Connection Delay="1e-4" From="piston2.tlm2" Zf="100000" alpha="0.9" Zfr="0" To="arm3.tlm2">
      <Annotation Points="{{-9,46},{-1,46},{-1,62},{-39,62},{-39,50},{-51,50}}"/>
    </Connection>
    <Connection Delay="1e-4" From="hydraulics.TLM2_1D" Zf="100000" alpha="0.9" Zfr="0" To="piston2.tlm1D">
      <Annotation Points="{{-1,-82},{15,-82},{15,42},{-9,42}}"/>
    </Connection>
    <Connection Delay="1e-4" From="rope_fmu.tlm1" Zf="100000" alpha="0.9" Zfr="0" To="arm3.tlm3">
      <Annotation Points="{{-51,74},{-46,74},{-46,46},{-50,46}}"/>
    </Connection>
    <Connection Delay="1e-4" From="dgbb1.bER`cs1" Zf="100000" alpha="0.9" Zfr="10000" To="arm1.tlm1">
      <Annotation Points="{{-57,-22},{-55,-22},{-55,-22},{-53,-22},{-53,-46},{-57,-46},{-57,-47},{-57,-47},{-57,-46}}"/>
    </Connection>
    <Connection Delay="1e-4" From="dgbb1.bIR`cs1" Zf="100000" alpha="0.9" Zfr="10000" To="arm2.tlm1">
      <Annotation Points="{{-57,-18},{-49,-18},{-49,-18},{-41,-18},{-41,4},{-55,4},{-55,3},{-55,3},{-55,4}}"/>
    </Connection>
    <Connection Delay="1e-4" From="arm3.tlm1" Zf="100000" alpha="0.9" Zfr="10000" To="dgbb2.bIR`cs1">
      <Annotation Points="{{-50,54},{-42,54},{-42,30},{-52,30},{-52,30}}"/>
    </Connection>
    <Connection Delay="1e-4" From="dgbb2.bER`cs1" Zf="100000" alpha="0.9" Zfr="10000" To="arm2.tlm2">
      <Annotation Points="{{-52,26},{-46,26},{-46,-4},{-54,-4},{-54,-4}}"/>
    </Connection>
    <Connection Delay="1e-4" From="hydraulics.Input1_1DIN" Zf="10000" alpha="0.2" Zfr="100" To="controller_fmu.tlm1_1DOUT">
      <Annotation Points="{{0,-70},{20,-70},{20,-92},{-59,-92}}"/>
    </Connection>
    <Connection Delay="1e-4" From="controller_fmu.tlm2_1DOUT" Zf="10000" alpha="0.2" Zfr="100" To="hydraulics.Input2_1DIN">
      <Annotation Points="{{-59,-96},{18,-96},{18,-78},{0,-78}}"/>
    </Connection>
    <Connection Delay="1e-4" From="hydraulics.Output1_1DOUT" Zf="10000" alpha="0.2" Zfr="100" To="controller_fmu.tlm1_1DIN">
      <Annotation Points="{{0,-74},{12,-74},{12,-90},{-52,-90},{-52,-84},{-59,-84}}"/>
    </Connection>
    <Connection Delay="1e-4" From="hydraulics.Output2_1DOUT" Zf="10000" alpha="0.2" Zfr="100" To="controller_fmu.tlm2_1DIN">
      <Annotation Points="{{0,-86},{4,-86},{4,-88},{-59,-88}}"/>
    </Connection>
    <Connection Delay="1e-4" From="load_fmu.tlm" Zf="100000" alpha="0.9" Zfr="0" To="rope_fmu.tlm2">
      <Annotation Points="{{-74,94},{-40,94},{-40,78},{-50,78},{-50,78},{-50,78}}"/>
    </Connection>
  </Connections>
  <!-- Parameters for the simulation -->
  <SimulationParams StartTime="0" StopTime="10"/>
</Model>
